<template>
  <section
    role="dialog"
    tabindex="-1"
    aria-labelledby="modal-heading-01"
    aria-modal="true"
    aria-describedby="modal-content-id-1"
    class="slds-modal slds-fade-in-open event-modal"
  >
    <div onclick={closePicklists} class="slds-modal__container event-modal-wrapper">
      <lightning-button-icon
        icon-name="utility:close"
        variant="bare"
        alternative-text="Close"
        class="close-modal-btn"
        onclick={closeModal}
      ></lightning-button-icon>
      <header class="slds-modal__header">
        <h2
          id="modal-heading-01"
          class="slds-modal__title slds-hyphenate event-modal-header"
        >
          Add Clients to an Event
        </h2>
      </header>
      <div
        class="slds-modal__content slds-p-around_medium event-modal-holder"
        id="modal-content-id-1"
      >
        <div class="slds-grid slds-gutters actions-component-wrapper">
          <div class="slds-col event-modal-col">
            <lightning-combobox
              class="event-type"
              name="progress"
              label="Event Details"
              value={eventTypeValue}
              placeholder="Event Type"
              options={eventTypeOptions}
              onchange={handleEventTypeValueChanged}
            >
            </lightning-combobox>
           
            <c-ct_searchable-combobox
              title="Select Event"
              is-required={isEventRequired}
              options={eventOptions}
              value-change-cb={handleEventChange}
              class="event-combobox"
            ></c-ct_searchable-combobox>
          </div>
          <!-- <div class="slds-col event-modal-col">
            <c-ct_searchable-combobox
              title="Select Activation (Optional)"
              is-required={isVariationRequired}
              options={variationOptions}
              value-change-cb={handleVariationChange}
              class="variation-combobox"
            ></c-ct_searchable-combobox>
          </div> -->
        </div>
      </div>
      <footer class="slds-modal__footer">
        <template if:true={errorMsg}>
            <span class="download-content"> 
              <span>{errorsList.length} Errors</span>
              <span class="download-button">
                <lightning-button-icon
                  icon-name="utility:download"
                  alternative-text="Csv Download"
                  size="small"
                  class="slds-m-left_xx-small"
                  title="Download" 
                  onclick={handleErrorsDownload}>
                </lightning-button-icon>
              </span>
            </span>
        </template>

        <div>
          <button class="slds-button slds-button_neutral" onclick={closeModal}>
            Cancel
          </button>
          <button
            class="slds-button slds-button_brand"
            onclick={handleAddClients}
            disabled={isFieldsNotFill}
          >
            Add
          </button>
        </div>
      </footer>
    </div>
  </section>
  <div class="slds-backdrop slds-backdrop_open"></div>
</template>