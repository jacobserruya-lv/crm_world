<template>

    <c-twist-google-analytics autodata={autodata} ontwistgalwcrendered={handleTwistGaLwcRendered}></c-twist-google-analytics>

    <div class="component">

        <div if:true={forgotPasswordForm.form.error}>
            <div class="field-form-error-message">{forgotPasswordForm.form.error}</div>
        </div>
        
        
        <template if:false={isResetPasswordEmailSent}>
            <div class="arrow-back" onclick={handleClickOnBackToLoginPageButton}>
                <img class="arrow-icon" src={twistArrowIcon} />
                <p class="component__text_back_to_login">{customLabels.Twist_Forgot_Password_Form_LoginText}</p>
            </div>
        </template>

        <h2 class="component__title">{customLabels.Twist_Forgot_Password_Form_ChangeYourPasswordTitle}</h2>

        <template if:true={isResetPasswordEmailSent}>
            <div class="success-message">{customLabels.Twist_Forgot_Password_Form_EmailSentSuccessfullyText}</div>
        </template>

        <template if:false={isResetPasswordEmailSent}>
            <p class="component__text">{customLabels.Twist_Forgot_Password_Form_ChangeYourPasswordHintText}</p>
    
            <form class="component__form">
                    
                <lightning-input
                    name="email"
                    class={emailFieldCssClass}
                    type="text"
                    label={customLabels.Twist_Forgot_Password_Form_EmailFieldLabel}
                    value={user.email}
                    autocomplete="email"
                    onblur={handleFormEmailChange}
                    >
                </lightning-input>
                <div if:true={forgotPasswordForm.email.error}>
                    <div class="field-error-message">{forgotPasswordForm.email.error}</div>
                </div>
                
                <div class="button__container">
                    <div class="button__container-wrap">
                        <template if:true={isSubmitButtonDisabled}>
                            <lightning-button label={customLabels.Twist_Forgot_Password_Form_SubmitButtonLabel} class="form__button" onclick={handleClickOnSubmitButton} disabled></lightning-button>
                        </template>
                        <template if:false={isSubmitButtonDisabled}>
                            <lightning-button label={customLabels.Twist_Forgot_Password_Form_SubmitButtonLabel} class="form__button" onclick={handleClickOnSubmitButton}></lightning-button>
                        </template>
                        <div class="registers">
                            <p class="register__text">{customLabels.Twist_Login_Form_DontHaveAccountText}</p>
                            <a href={linkToRegistration} onclick={handleClickOnLinkToRegistration} class="register__link">{customLabels.Twist_Login_Form_CreateYourAccountText}</a>
                        </div>
                    </div>
                </div>
                
            </form>

        </template>
    
    </div>

</template>