<aura:component extends="c:MIY_FancyModal" controller="MIY_OrderPageController">
    <aura:attribute name="record" type="Object" />
    <aura:attribute name="confirmLoading" type="Boolean" default="false" />
    <aura:attribute name="depositMandatoryConfirmed" type="Boolean" default="false" />

    <aura:registerEvent name="updateOrderEvent" type="c:MIY_FirmOrderUpdate"/>

    <lightning:overlayLibrary aura:id="modalOverlayLib"/>

    <aura:attribute name="header" type="Aura.Component[]">{!$Label.c.MIY_OrderPage_Confirm_Quotation}</aura:attribute>
    <div class="spo-confirm-quote-modal">

        <div class="miy-fancy-modal__content">
            <div>{!$Label.c.MIY_OrderPage_By_Clicking}"{!$Label.c.LV_SO_Confirm_quotation}"{!$Label.c.MIY_OrderPage_Confirmation}</div>
            <div><span class="spo-confirm-quote-modal__client">{!v.record.Account.Name}</span>{!$Label.c.MIY_OrderPage_Has_Accepted_This_Quotation}
                <span class="spo-confirm-quote-modal__quote-amnt"><lightning:formattedNumber style="currency"
                                                                                            currencyCode="{!v.record.SPO_Store__r.Currency__c}"
                                                                                            value="{!v.record.Amount}"
                                                                                            minimumFractionDigits="0"
                                                                                            maximumFractionDigits="0"
                /></span>.</div>
        </div>

        <div class="spo-confirm-quote-modal__confirm-mandatory slds-text-align_center">
            <p class="slds-text-color_error">
                <lightning:icon iconName="utility:warning" variant="error" size="x-small"/>
               {!$Label.c.MIY_OrderPage_Deposit_Must_Be_Taken}
            </p>
            <lightning:input type="checkbox"
                             label="I have read and understand"
                             value="{!v.depositMandatoryConfirmed}"
                             onchange="{!c.handleConfirmMandatory}"
            />
        </div>
    </div>
    <aura:attribute name="footerContent" type="Aura.Component[]">
        <lightning:button label="Cancel" onclick="{!c.closeModal}"/>
        <c:LaddaLightningButton label="{!$Label.c.LV_SO_Confirm_quotation}"
                                onclick="{!c.handleConfirmClick}"
                                isLoading="{!v.confirmLoading}"
                                disabled="{!not(v.depositMandatoryConfirmed)}"
                                variant="brand"
        />
    </aura:attribute>
</aura:component>